<!SLIDE center incremental subsection>
# 迭代器

<!SLIDE transition=turnUp>
# 可迭代对象(iterable)

可迭代对象是指该对象每次可以返回对象中的一个元素的对象. 任何一个包含了 `__iter__()` 方法的对象, 或是任何序列类型(包含了接收一个整数作为参数的 `__getitem__()` 方法的对象)都是可迭代对象. 这些方法用来返回用来返回一个迭代器(`__iter__`) 或是对象中的一个元素(`__gititem__`).

# 迭代器(iterator)

一个迭代器就是一个提供了 `__next__()` 方法的对象, `__next__()`方法用来依次返回该对象中的每个元素, 当访问到元素结尾, 如果继续调用 `__next__()`, 则会抛出 `StopIteration` 异常.  可以通过内建函数 `next()` 依次访问迭代器中的元素.  
可以使用内置函数 `iter()` 将一个可迭代对象转换成迭代器.  
迭代器一定是迭代对象, 迭代对象不一定是迭代器.  
迭代器只能被迭代一次, 一旦元素全部被迭代完, 没有办法在重头迭代.

所有可迭代对象和迭代器都可以使用 `for...in` 语句循环获取其中的元素.

.callout.warning 在 Python2 中是 `next()`

# 迭代器通用操作和方法

语法                      | 说明
------                    | ------|
`s + t`                   | 返回一个由序列 `s` 和 序列`t` 拼接的新序列
`s * n`                   | 返回一个重复 `n` 次序列 `s`的新序列
` x in i`                 | 如果元素 `x` 存在于可迭代对象 `i` 中, 则返回 `True`, 否则返回 `False`
`all(i)`                  | 当可迭代对象中的所有元素都为 `True` 时, 返回 `True`
`any(i)`                  | 当可迭代对象中的元素中有一个为 `True` 时, 就返回 `True`
`len(x)`                  | 返回可迭代对象的长度
`max(i, key)`             | 返回可迭代对象 `i` 中的最大元素, 该方法还可以接收一个参数 `key`, 指向一个自定义函数, 此时则返回 `key(item)` 的最大值.
`min(i, key)`             | 返回可迭代对象 `i` 中的最小元素.
`range(start, stop, step` | 返回一个由数字组成的迭代器.
`reversed(i)`             | 将可迭代对象 `i` 中的元素翻转后返回
`enumerate(i, start)`     | 与 `for...in` 一起使用, 每次循环返回一个包含元素索引和对应的元素值的元组, 默认从索引 0 开始, 如果指定了 `start` 参数, 则索引从 `start` 开始
`zip(i1, ..., iN)`        | 将每个参数中的元素按照顺序生成元组, 返回回来. 

.callout.warning Python2 中存在另一个内置函数 `xrang()`, 该函数效果与 `rang()`, 不同之处在于 `range()` 返回一个列表, 而 `xrang()` 返回一个可迭代对象, 如果生成的列表中包含了大量元素, 这些元素将全部被保存到内存中. 而可迭代对象只会将当前处理的元素保存在内存中, 因此使用 `xrang()` 会被 `range()` 更节省内存空间  
但是在 Python3 中的 `range()` 被重新升级成了与 `xrang()` 一样的行为, 并且移除了 `xrange()` 函数.