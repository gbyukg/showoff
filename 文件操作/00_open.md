<!SLIDE>
# `open()`

在操作(读取或写入)一个文件之前, 首先需要打开这个文件, Python 为我们提供了内置函数 `open()` 来打开一个文件.

调用格式:  
`fileObj = open(file, mode='r', buffering=-1, encoding=None, errors=None, newline=None, closefd=True, opener=None)`

- `file` 必填, 通常为要打开的文件名
- `mode` 可选, 打开文件的模式, 默认 `r`
- `buffering`: 可选, 指定缓冲模式
- `encoding`: 可选, 指定文件的编码格式, 默认使用计算机的默认编码
- `errors`: 可选, 指定当出现编码错误时的描述字符串
- `newline`: 可选, 指定新行字符, 可选值有: `None`, ` `, `\n`, `r` 和 `\r\n`
- `closefd`: 可选, 只能为 `True`

`mode` 参数值:

可选值  | 说明
 ---   | ---
`'r'`  | 以只读的方式打开(默认)
`'w'`  | 以写的方式打开, 在打开文件的同时截取文件中的内容. 如果文件不存在, 则创建
`'a'`  | 以追加的方式打开. 如果文件不存在, 则创建
`'b'`  | 二进制模式
`'r+'` | 以读写方式打开文件, 文件指针移动到文件起始位置
`'w+'` | 以读写方式打开文件, 并截取文件中的内容. 如果文件不存在, 则创建
`'a+'` | 以读写方式打开文件, 文件指针移动到文件末尾. 如果文件不存在, 则创建

## 文件对象
通过 `open()` 方法打开一个文件后, 会返回给我们一个文件对象, 对文件的所有操作都是基于该文件对象的, 文件对象的一些属性:

属性 | 说明
-- | --
`file.closed` | 返回 True 如果文件已经被关闭, 否则返回 False
`file.mode`   | 返回被打开文件的访问权限
`file.name`   | 返回被打开文件的文件名

<!SLIDE transition=turnUp>
# 常用方法

## `close()`
关闭一个已打开的文件.

## 读取文件内容
### `f.read(N)`
读取文件中的内容, 该函数可以接受一个整数作为参数, 用于指定读取的字节数, 如果没有指定该参数, 则读取整个文件.

### `f.readline()`
每次读取文件中的一行.

### `f.readlines()`
使用 `readline()` 读取文件中的所有行, 并将读取到的这些行保存到列表中返回.

## 写入文件
### `f.write(string)`
向一个以打开的有可写权限的文件中写入字符串 `string`, 若文件不存在, 则会自动创建.

## 文件位置指针
### `f.tell()`
返回一个数值, 表示当前文件指针索引所在的位置.

### `f.seek(offset[, from])`
将文件指针移动 `offset` 个字节.

`from` 指明了指针移动时的参照位置

  - `0` 从文件起始位置开始计算 (默认)
  - `1` 从当前指针所在位置开始计算
  - `2` 从文件末尾开始计算

.callout.warning 从 Python3.2 以后, 如果以普通文本文件(打开时没有指定 `b`)方式打开的文件, 只允许从文件其实位置(0)开始移动文件指针.

## `f.flush()`
刷新缓冲区