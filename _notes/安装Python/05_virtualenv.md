# virtualenv

现在大家想象一下, 你当前维护了多个不同的 Python 项目, 而这些项目中既有 Python2 开发的, 又有 Python3 开发的, 即使是使用相同 Python 版本开发的, 这些 Python 项目不可能会使用完全一样的库, 甚至会出现不同的项目使用同一个库的不同版本.

这时我们就需要为每个项目创建一个相对独立的开发环境, 而 virtualenv 就是为我们提供一个虚拟的开发环境, 它能在同一台电脑上创建多个独立的虚拟开发环境, 每个虚拟环境都是相互独立的,(说到虚拟环境, 大家一定要与虚拟机的那个虚拟区别开来, virtualenv中的虚拟仅仅是作用在文件夹层级的, 说白了就是每个虚拟环境仅仅是一个目录罢了. 它只是通过设定一些环境变量指向这个目录). 当启用一个虚拟环境时, 执行 python 的所有命令都将来自于这个虚拟环境, 并且所安装的所有扩展库也都将安装到这个虚拟环境中, 这样就达到了多个虚拟环境以及和系统之间相互隔离的目的.

安装 `virtualenv` 非常简单, 使用 `pip` 命令就可以直接安装了.

安装好以后, `pip show --verbose virtualenv` 查看详细信息

安装好 `virtualenv` 后就可以使用了, 首先第一个命令就是创建一个虚拟的环境, 格式为 `virtual proj1`, 该命令会在当前目录下创建一个名为 `proj1` 的子目录, 也可以加上 `-v` 参数显示详细信息.

该命令会在当前目录下创建一个新目录 proj1, 并包含以下子目录:

- `include` 包含了 Python 的头文件
- `lib` 包含了 Python 中的库文件, 新安装的库将全部存放在 lib/pythonXX/site-packages/ 目录下
- `bin` 生成的一些可执行文件, 包括 Python, pip 等等

## 激活环境

在初始化好一个虚拟环境后, 需要先进行激活, 只有激活之后才可以使用.  
当初始化完一个项目目录后, 处于未激活状态, 在能够使用这个虚拟环境之前, 首先需要激活:

使用 `export` 可以看到 `PATH`, `PS1` 都被修改了, 并增加了一个新的环境变量 `VIRTUAL_ENV`, 指向了当前项目目录  
当激活了一个环境以后, 通过 `pip` 安装的新库文件将全部被安装到 `lib/pythonXX/site-packages/` 路径下.

> `PS4` 简单介绍一下

`pip install requests`  
`pip show requests`: 查看路径 `Location: /root/proj1/lib/python3.6/site-packages`